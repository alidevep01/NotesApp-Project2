<%- include("./partials/header.ejs") %>
  <!-- gird -->
  <div class=" mainContainer row row-cols-1 row-cols-md-3 g-4 ">
    <% for(let i=0; i<notes.length; i++){%> 
    <div class="col">
      <div class="card notesContainer border-dark" >
     
           <!-- -------------------- Note Name -------------------- -->
            <div class="card-header" 
            style="background-color: <%=notes[i].color%>"><a href="/notes/<%= notes[i].id %>">
                <button type="button" class="btn btn-success" id="noteBtn"><%= notes[i].title %></button>
              </a>
              <div class="div2">
                 <!-- --------------- Edit Button ----------------- -->
              <a href="/notes/<%= notes[i].id %>/edit "><button class="btn btn-warning">ðŸ–Š</button></a>
              <!-- --------------- Delete Button ----------------- -->
              <form action="/notes/<%= notes[i].id %>?_method=DELETE" method="POST">
                <input class="btn deleteBtn btn-danger" type="submit" value="X" />
              </form>
              </div>
             
              </div>
            <div class="card-body">

             <!-- -------------------- Description -------------------- -->
          <p class="card-text index-text"><%= notes[i].description %> </p>
          <!-- -------------------- Image -------------------- -->
          <img src="<%= notes[i].img%>" class="card-img-bottom" alt="...">
           <!-- -------------------- ReadMore Btn -------------------- -->
        </div class="readmore">
        <a href=" /notes/<%=notes[i].id %>"><div class="btn btn-primary readmoreBtn">Read More</div></a>
           <!-- ----- save button Section ----- -->
     <form action="/notes/<%= notes[i].id %>?_method=PUT" method="POST">
      <div class="col-12">
        <button type="submit" name="submit" class="btn btn-primary editBtn" style="display: hidden;">Save</button>
      </div>
    </form>
      </div>
    </div>
    <% }  %> 
</div>
<script>
  let readmoreBtn = document.querySelectorAll(".readmoreBtn");
  let indexText = document.querySelectorAll(".index-text");
  for (let i in indexText) {
    console.log(indexText[i].style);
    if (indexText[i].innerText.length > 350) {
      readmoreBtn[i].style.display = "inline";
    } else {
      readmoreBtn[i].style.display = "none";
    }
  }
</script>
<%- include('./partials/footer.ejs') %>
